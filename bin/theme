#!/bin/sh -ex
#
# Usage: theme [light|dark]
#
# Applies the given theme to terminal-based applications such as tmux and vim.
# If no theme is given, then the currently applied theme is written to STDOUT.
#
if test $# -gt 0 ; then
  echo "$1" > ~/.theme
  export theme=$1
  erb ~/.tigrc.erb > ~/.tigrc
  erb ~/.tmux.conf.erb > ~/.tmux.conf
  test -n "$TMUX" && tmux source ~/.tmux.conf
else
  cat ~/.theme
fi
